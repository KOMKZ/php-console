# 1.财富模块文档（前端）
## 1.1.修订历史
## 1.2.简介
## 1.3.专业名词
## 1.4.开发流程及需求介绍
### 1.4.1.产品购买流程
#### 1.4.7.1.需求
用户进入产品详情页，点击购买，跳转到购买页面，选择支付方式，付款购买。

#### 1.4.1.2.流程整体说明
**文字说明如下：**

1. node首先获取产品的商品id

2. node创建一个订单用于购买这个商品

3. node为订单创建一个账单

4. node为账单选择某种支付方式

5. node得到支付url（或者二维码）展示给用户

6.  用户完成付款

**流程时序图如下：**

[](./购买产品流程01.png) 

#### 1.4.1.3.获取产品的商品id
获取商品id请求：

`GET /goods?gs_sid=1 & gs_type=1 & fields=g_id & no-page=1`

参数说明：

1. `gs_sid=1 & gs_type=1`

gs_sid是产品的id，对于获取产品的商品来说，gs_type始终为1。

2. `fields=g_id`

只需要拿到商品的g_id字段

3. `no-page=1`

结果集不进行分页，目前的需求，本次查询只有有一条数据。

关于商品接口的更多信息请查看swagger文档。

#### 1.4.1.4.创建订单购买商品
1. 首先必须构造订单数据，以下是构造购买商品g_id=1的订单数据：

```
{
	// 购买的商品数据， 购买g_id=1 这个商品 1个
	goods_submit : {
		1 : 1
	},
	// 购买用户的hsehome的用户id
	od_belong_uid : 1,
	// 产品的拥有者id
	od_earning_uid : 2, 
	// 过期时间, 时间戳
	od_expire_time ：<timestamp>
}
```

2. 创建订单

`POST /order`

创建成功将返回订单数据，详细字段说明参考swagger文档。


#### 1.4.1.5.为订单创建账单

1. 构建账单数据

假设上一步创建的订单返回的信息如下（部分）

```
{
	od_title : “安全家产品000001”,
	od_number : 11227152016142784,
	od_price : 1,
	od_expire_time : 1482826545,
}
```

则我们可以构建账单数据如下：

```
{
	// 1 代表消费型账单
	fb_type ：1,
	// 传入订单的费用
	fb_fee ： 1,
	// 账单的过期时间
	fb_expire_time : 1482826545,
	fb_bill_title : "购买安全家产品000001",
	// 付款方账户id
	fb_pa_uid : 1,
	// 收款方账户id
	fb_pb_uid : 2,
	// 交易号
	fb_app_trade_no : 11227152016142784
	// 应用交易类别，1 代表订单
	fb_app_trade_type ：1
	// 应用id, 1 代表安全家
	fb_app_id : 1
}
```








### 1.4.2.产品退款流程




### 1.4.3.我的订单查询流程
#### 1.4.7.1.需求

### 1.4.4.我的收支查询流程
#### 1.4.7.1.需求

### 1.4.5.查询用户账户流程
#### 1.4.7.1.需求


### 1.4.6.用户绑定银行卡流程
#### 1.4.7.1.需求


### 1.4.7.用户提款流程
#### 1.4.7.1.需求


## 1.5.商品API说明
## 1.6.帐号API说明
## 1.7.账单API说明
## 1.8.订单API说明
